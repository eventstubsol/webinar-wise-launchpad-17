# Render Backend Timeout Error - Troubleshooting Guide

## Issue Summary
You're experiencing a timeout error when the WebinarWise frontend tries to connect to the Render backend service at `https://webinar-wise-launchpad-17.onrender.com`.

## Root Cause
The Render backend service is not responding within the 10-second timeout period. This typically happens when:

1. **Service is sleeping (most common)** - Render free tier services automatically sleep after 15 minutes of inactivity
2. **Service is not deployed or crashed**
3. **Missing environment variables**
4. **Network connectivity issues**

## Solution Implemented

I've updated your application with an improved sync service that includes:

### 1. **Automatic Fallback to Direct Sync**
- The app now automatically switches to "Direct Sync" mode when Render is unavailable
- Direct Sync performs all operations through your browser, bypassing the backend
- While slightly slower for large datasets, it's always available

### 2. **Visual Sync Mode Indicator**
- Added a badge in the header showing current sync mode (Render/Direct)
- Click the badge to manually toggle between modes
- Shows service health status with color coding:
  - ðŸŸ¢ Green = Render sync active and healthy
  - ðŸŸ¡ Yellow = Direct sync mode (fallback)
  - ðŸ”´ Red = Render offline

### 3. **Improved Error Handling**
- Reduced timeout to 5 seconds for faster fallback
- Better retry logic with exponential backoff
- Clear user messages explaining what's happening

## How to Fix the Render Backend

### Option 1: Wake Up the Service (Immediate)
1. Visit https://webinar-wise-launchpad-17.onrender.com/health
2. Wait 30-60 seconds for the service to wake up
3. Refresh your WebinarWise app

### Option 2: Check Render Dashboard
1. Go to https://dashboard.render.com
2. Find service: `webinar-wise-launchpad-17`
3. Check the status:
   - If "Suspended" â†’ Click "Resume"
   - If "Failed" â†’ Check logs and redeploy
   - If "Live" â†’ Check environment variables

### Option 3: Configure Environment Variables
1. In Render Dashboard, go to your service
2. Click "Environment" tab
3. Ensure these variables are set:
   ```
   SUPABASE_URL = https://lgajnzldkfpvcuofjxom.supabase.co
   SUPABASE_SERVICE_ROLE_KEY = [get from Supabase dashboard]
   SUPABASE_ANON_KEY = [get from Supabase dashboard]
   NODE_ENV = production
   ```

4. Get the keys from: https://app.supabase.com/project/lgajnzldkfpvcuofjxom/settings/api

### Option 4: Upgrade from Free Tier
To prevent sleep mode entirely:
1. Go to Render Dashboard > your service
2. Click "Upgrade" 
3. Choose a paid plan (starts at $7/month)
4. Service will stay awake 24/7

## Using the App While Render is Down

The app is fully functional in Direct Sync mode:

1. **Connect Zoom Account** - Works normally
2. **Sync Webinars** - Syncs through your browser
3. **View Data** - All features available
4. **Send Emails** - Email features work normally

The only limitation is sync speed for very large datasets (1000+ webinars).

## Monitoring Service Health

1. **Check Mode Indicator** - Look at the badge in the header
2. **Force Health Check** - Click the refresh button next to the mode indicator
3. **View Logs** - Check browser console for detailed connection logs

## Deployment Checklist for Render

If you need to redeploy:

1. **Backend Code** is in: `render-backend/` directory
2. **Required files**:
   - `server.js` - Main server file
   - `package.json` - Dependencies
   - All route files in `routes/`
   - All service files in `services/`

3. **Deployment steps**:
   ```bash
   cd render-backend
   git add .
   git commit -m "Update backend"
   git push origin main
   ```

4. Render will auto-deploy from your GitHub repo

## Contact Support

If issues persist:
1. Check Render Status: https://status.render.com
2. Check Supabase Status: https://status.supabase.com
3. Review logs in both Render and browser console

The app will continue working in Direct Sync mode regardless of Render's availability.
